<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Chipper / Coolbrador</title>
    <link rel="stylesheet" href="../styles.css" />
</head>
<body>

    <div id="shared-header"></div>

    <div class="bodytext-section container">
        <h1 class="section-header">Chipper</h1>
        <h2>Site is currently getting an overhaul</h2>
    </div>

    <section class="container bodytext-section">
        <h1>This is going to be the page for Chipper</h1>
    </section>

			<div id="shared-footer"></div>

		<script>
		document.addEventListener("DOMContentLoaded", function () {
		  fetch("../shared/header.html")
			.then(r => r.text())
			.then(html => {
			  document.getElementById("shared-header").innerHTML = html;

			  // ——— PROFILE PICTURE & USERNAME ———
			  const userSection = document.getElementById("userSection");
			  if (!userSection) return;

			  const loggedIn = localStorage.getItem("loggedIn") === "true";
			  const userId = localStorage.getItem("currentUserId");

			  if (loggedIn && userId) {
				const userData = JSON.parse(localStorage.getItem(`user_${userId}`)) || {};
				const pfp = userData.profilePicture || "/users/default/pfp.jpg";

				userSection.innerHTML = `
				  <a href="/users/${userId}/profile.html" class="user-avatar" style="margin-left:15px;">
					<img src="${pfp}" alt="${userData.username}'s avatar" style="width:40px;height:40px;border-radius:50%;object-fit:cover;">
				  </a>
				  <span style="margin-left:10px;font-weight:bold;">${userData.username || 'User'}</span>`;
			  } else {
				userSection.innerHTML = `<a href="/login.html" style="color:#007bff;font-weight:bold;">Login</a>`;
			  }
			});

		  // Load footer
		  fetch("../shared/footer.html")
			.then(r => r.text())
			.then(d => document.getElementById("shared-footer").innerHTML = d);
		});
		</script>
	</body>
</html>
